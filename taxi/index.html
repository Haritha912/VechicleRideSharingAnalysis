<html>
<head>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
 <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <style type="text/css">
  

  .text {
	border:1px solid grey;
	border-radius:26px;
	height: 6%;
	width: 17%;
	padding: 15px 20px;
}
.button{
	background-color: #1161ee;
	color: white;
}
.mybtn{
	float: right;
	width: 10%;
	height: 100%;
	color: white;
	background-color: #6D91A6;
    
}
.mybtn : focus{
	width: 20%;
	color: white;
}
.mybtn : hover{
	width: 20%;
	color: white;
}

#wrapper{
	width: 100%;
	height: 100vh;
	background-image:linear-gradient(
      rgba(0, 0, 0, .4), 
      rgba(0, 0, 0, .4)
    ), url("/taxi/images/hello.jpg");


}
button[type=index]{
    width: 10%;
    border-left: 1px solid black;
    border-right: 1px solid black;
    transition: ease-in-out, width .35s ease-in-out;
}

button[type=index]:focus {
    width: 20%;
}

  	
  </style>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
  <script>
$(document).ready(function(){
	$("#customer").hide();
	$("#title").fadeIn(3000);
	$("#driver").hide();
	$("#admin").hide();
	$("#own").hide();
	$("#custsignupsubmit").hide();
    $("#customerbtn").click(function(){
        $("#customer").fadeIn(1500);
        $("#admin").hide();
        $("#driver").hide();
        $("#own").hide();
        document.getElementById("response").innerHTML ="";
    });
    $("#custsignupbtn").click(function(){
    	
        $("#signup").show();
        $("#custloginbtn").hide();
        $("#custsignupbtn").hide();
        $("#custsignupsubmit").show();
        document.getElementById("response").innerHTML ="";
    });
    $("#driverbtn").click(function(){
         $("#customer").hide();
       
        $("#admin").hide();
        $("#driver").fadeIn(1500);
        $("#own").hide();
        document.getElementById("response").innerHTML ="";
    });
     $("#adminbtn").click(function(){
         $("#customer").hide();
        
        $("#admin").fadeIn(1500);;
        $("#driver").hide();
        $("#own").hide();
        document.getElementById("response").innerHTML ="";
    });
     $("#ownbtn").click(function(){
         $("#customer").hide();
       
        $("#admin").hide();
        $("#driver").hide();
        $("#own").fadeIn(1500);;
        document.getElementById("response").innerHTML ="";
    });
     
      $("#custloginbtn").click(function(){
      	var email=document.getElementById("email");
      	var password=document.getElementById("password")
      	if(validateEmail(email.value))
      	{
         var xhttp = new XMLHttpRequest();
  		 xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
         	console.log(this.responseText.trim())
         	if(this.responseText.trim()=="true")
         	{
         		window.open("ridebooking.html","_self");
         	}
         	else
         		document.getElementById("response").innerHTML = "<br>Check your Mailid or password";
         }
         };
         console.log("login.jsp?mailid="+email.value+"&password="+password.value);
        xhttp.open("GET", "login.jsp?mailid="+email.value+"&password="+password.value, true);
        xhttp.send();
    }
        });
      $("#custsignupsubmit").click(function(){

      	var email=document.getElementById("email");
      	var password=document.getElementById("password")
      	var name=document.getElementById("name")
      	var phone=document.getElementById("contact")
         var xhttp = new XMLHttpRequest();
  		 xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
         	$("#signup").hide();
         	$("#custloginbtn").show();
            $("#custsignupbtn").show();
            $("#custsignupsubmit").hide();
         	console.log(this.responseText.trim())
         	document.getElementById("response").innerHTML ="<br><h2>"+this.responseText+"</h2>";
         	
         }
         };
         console.log("index.jsp?mailid="+email.value+"&password="+password.value+"&name="+name.value+"&phone="+phone.value);
        xhttp.open("GET", "index.jsp?mailid="+email.value+"&password="+password.value+"&name="+name.value+"&phone="+phone.value, true);
        xhttp.send();
        });
       $("#driverloginbtn").click(function(){
      	var phone=document.getElementById("driverphone");
      	var password=document.getElementById("driverpassword")
         var xhttp = new XMLHttpRequest();
  		 xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
         	console.log(this.responseText.trim())
         	if(this.responseText.trim()=="true")
         	{
         		window.open("customerwaiting.jsp?phone="+phone.value,"_self");
         	}
         	else
         		document.getElementById("response").innerHTML = "<br>Check your Mailid or password";
         }
         };
         console.log("driverlogin.jsp?phone="+phone.value+"&password="+password.value);
        xhttp.open("GET", "driverlogin.jsp?phone="+phone.value+"&password="+password.value, true);
        xhttp.send();
        });

       $("#adminloginbutton").click(function(){
       	console.log("hello");
      	var name=document.getElementById("adminname");
      	var password=document.getElementById("adminpassword")
         var xhttp = new XMLHttpRequest();
  		 xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
         	console.log(this.responseText.trim())
         	if(this.responseText.trim()=="true")
         	{
         		window.open("admin.jsp","_self");
         	}
         	else
         		document.getElementById("response").innerHTML = "<br>Check your Name or password";
         }
         };
        xhttp.open("GET", "adminlogin.jsp?name="+name.value+"&password="+password.value, true);
        xhttp.send();
        });
       $("#ownloginsubmit").click(function(){
       	console.log("hello");
      	var name=document.getElementById("ownname");
      	var password=document.getElementById("ownpassword")
         var xhttp = new XMLHttpRequest();
  		 xhttp.onreadystatechange = function() {
         if (this.readyState == 4 && this.status == 200) {
         	console.log(this.responseText.trim())
         	if(this.responseText.trim()=="true")
         	{
         		window.open("own.jsp?name="+name.value+"&password="+password.value,"_self");
         	}
         	else
         		document.getElementById("response").innerHTML = "<br>Check your Name or password";
         }
         };
        xhttp.open("GET", "ownlogin.jsp?name="+name.value+"&password="+password.value, true);
        xhttp.send();
        });

});
</script>


<script type="text/javascript">
    $(function () {
    $('#name').keydown(function (e) {
    if (e.shiftKey || e.ctrlKey || e.altKey) {
    e.preventDefault();
    } else {
    var key = e.keyCode;
    if (!((key == 8) || (key == 32) || (key == 46) || (key >= 35 && key <= 40) || (key >= 65 && key <= 90))) {
    e.preventDefault();
    }
    }
    });
    });
  </script>
  
<script type="text/javascript">
function validateEmail(sEmail) {
  var reEmail = /^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/;

  if(!sEmail.match(reEmail)) {
    alert("Invalid email address");
    return false;
  }

  return true;

}
</script>



<head>
<body>


<div id="index" class="btn-group" style="float:right;width:100%;height:10vh;">
<div id="title" style="float:left;margin-left: 70px;display: none;color: white;" >
<br><h1>Vehicle Pollution Analysis</h1>
<p><h4><i>Be a part of this analysis initiative and give back something what our society deserves !</i></h4></p>
</div>
    <button type=index id="customerbtn" style="float: right;" class="btn  mybtn" >customer</button>
	<button type=index id="driverbtn"  style="float: right;" class="btn  mybtn">Driver</button>
	<button type=index id="adminbtn"  style="float: right;" class="btn  mybtn">Admin</button>
	<button type=index id="ownbtn"   style="float: right;" class="btn  mybtn">Own vehicle</button>
	

</div>
<center>
<div id="wrapper" >
<br><br><br><br><br><br>

<div id="customer" style="margin-top:5%;" >
<b><h3 style="color: white;">CUSTOMER</h3></b>
 
  <input type=text id="email" placeholder="email" class="text" onblur="validateEmail(this.value)"/><br><br>
   <input type=password id="password" placeholder="password" class="text"/><br><br>
   <div id="signup" style="display:none;">
   <input type=text id="name" placeholder="name" class="text"/><br><br>
   <input type=text id="contact" placeholder="phone" class="text" MAXLENGTH = "10"  onkeydown="return ( event.ctrlKey || event.altKey || (47<event.keyCode && event.keyCode<58 && event.shiftKey==false) || (95<event.keyCode && event.keyCode<106)|| (event.keyCode==8) || (event.keyCode==9) || (event.keyCode>34 && event.keyCode<40) || (event.keyCode==46) )"/><br><br>
   </div>

   <button id="custloginbtn" style="background-color: " class="text button">Login</button><br><br>
   <button id="custsignupbtn" class="text button">Signup</button>
   <button id="custsignupsubmit" class="text button">submit</button>
</div>
<div id="driver" style="margin-top:5%;">
<b><h3 style="color: white;">DRIVER</h3></b>

   <input type=text id="driverphone" placeholder="phone" class="text" MAXLENGTH = "10"  onkeydown="return ( event.ctrlKey || event.altKey || (47<event.keyCode && event.keyCode<58 && event.shiftKey==false) || (95<event.keyCode && event.keyCode<106)|| (event.keyCode==8) || (event.keyCode==9) || (event.keyCode>34 && event.keyCode<40) || (event.keyCode==46) )"/><br><br>
   <input type=password id="driverpassword" placeholder="password" class="text"/><br><br>
   <button id="driverloginbtn" class="text button">Login</button>
</div>
<div id="admin" style="margin-top:5%;">
<b><h3 style="color: white;">ADMIN</h3></b>

   <input type=text id="adminname" placeholder="name" class="text"/><br><br>
   <input type=password id="adminpassword" placeholder="password" class="text"/><br><br>
   <button id="adminloginbutton" class="text button">Login</button>
</div>
<div id="own" style="margin-top:5%;">
<b><h3 style="color: white;">OWN VEHICLE</h3></b>

   <input type=text id="ownname" placeholder="vehicle id" class="text" onkeydown="return ( event.ctrlKey || event.altKey || (47<event.keyCode && event.keyCode<58 && event.shiftKey==false) || (95<event.keyCode && event.keyCode<106)|| (event.keyCode==8) || (event.keyCode==9) || (event.keyCode>34 && event.keyCode<40) || (event.keyCode==46) )"/><br><br>
   <input type=password id="ownpassword" placeholder="password" class="text"/><br><br>
   <button id="ownloginsubmit" class="text button">Login</button>
</div>

<div id="response" style="color: white;"></div>
</div>
</center>
</html>
